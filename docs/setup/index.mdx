---
sidebar_position: 2
---

# Initial Setup and access for Atlas CLI

**Run this section in your notebook**

> You can clone our template or use it in one of the [online environments](https://github.com/mongodb-developer/security-lab-notebooks/blob/main/template_notebook.ipynb):
>
> **Important! Each code block is marked with a number associated to the tutorial here.**

This section will cover the required notebook operations that must be fulfilled to run the Challenges.

### 1. Install atlas CLI on the notebook environment.
```python
# Install atlas-cli

!wget https://fastdl.mongodb.org/mongocli/mongodb-atlas-cli_1.37.0_linux_x86_64.deb
!dpkg -i mongodb-atlas-cli_1.37.0_linux_x86_64.deb

# If you require sudo privilege, run the following instead:
# !sudo dpkg -i mongodb-atlas-cli_1.37.0_linux_x86_64.deb
```

### 2. Authenticate the CLI against your Atlas organization.
`atlas auth login` typically enters interactive mode. 
We are piping a new line character so that it selects a default organization for you. 
```python
# Authenticate with Atlas CLI
!echo -e "\n" | atlas auth login --noBrowser
```

<details>
<summary> Expand to see example </summary>

Run the cell and get the verification code as well as the authentication link and open it in a new tab:


<img src="../img/Init_CLI.png" />

Proceed to login into https://account.mongodb.com/account/connect  and provide the code in the opened authentication tab:

<img src="../img/InputKey.png" />

Confirm the CLI access and go back to the notebook:

<img src="../img/AuthCLI.png" />

You should see an output in the notebook cell similar to:

<img src="../img/SuccessPhase.png" />

Take a note of the relevant Organization ID for next step.

</details>

### 3. Create a new project called "MySecureProj"
Replace `<ORGANIZATION_ID>` with the Organization ID from the previous step.
```
# Retain the quotes ("") when pasting the Organization ID
org_id = "<ORGANIZATION_ID>"
!atlas projects create MySecureProj --orgId {org_id}
```
There should be an output which shows the Project ID of the project created. Use this Project ID for the next step.

### 4. Create your challenge cluster
Replace `<PROJECT_ID>` with the Project ID from the previous step.
```python
# Retain the quotes ("") when pasting the Project ID
project_id = "<PROJECT_ID>"
# You may select a region closer to you instead of "US_EAST_1"
!atlas clusters create MyNewCluster --provider AWS --region US_EAST_1 --tier M0 --projectId {project_id}
```

## Next Steps

Progress to [Network Setup](./atlas) for authorising access to your Atlas deployment.
